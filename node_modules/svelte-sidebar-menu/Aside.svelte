<script>import { sidebarOpen, sidebarIsInert } from './sidebarStore';
import { fly, slide, blur, fade } from 'svelte/transition';
export let transitionParams = {};
export let transitionType = 'fly';
export let asideClass = 'absolute w-auto h-screen bg-gray-200 border-r-2 shadow-lg';
let inert = null;
$: inert = $sidebarIsInert ? 'inert' : null;
let ariaHidden;
function multiple(node, params) {
    switch (transitionType) {
        case 'slide':
            return slide(node, params);
        case 'blur':
            return blur(node, params);
        case 'fly':
            return fly(node, params);
        case 'fade':
            return fade(node, params);
    }
}
// $: console.log('Aside sidebarOpen', $sidebarOpen);
</script>

{#if $sidebarOpen}
	<aside
		class="{asideClass} {$$props.class ? $$props.class : ''}"
		transition:multiple={transitionParams}
		aria-hidden={ariaHidden}
		{inert}
	>
		<slot />
	</aside>
{/if}

<style>
	.close {
		left: -100%;
	}
	.open {
		left: 0;
	}
	[inert] {
		pointer-events: none;
		cursor: default;
	}

	[inert],
	[inert] * {
		opacity: 0.5;
		pointer-events: none;
		cursor: default;
		-webkit-user-select: none;
		   -moz-user-select: none;
		    -ms-user-select: none;
		        user-select: none;
	}</style>
